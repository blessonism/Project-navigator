# 时间线功能测试指南

## 测试环境
- 开发服务器：http://localhost:5174/
- 管理员密码：admin123

## 测试步骤

### 1. 进入管理模式
有两种方式进入管理模式：
- **方式 A**：访问 http://localhost:5174/?admin
- **方式 B**：在主页按下 `Ctrl+Shift+A`

输入密码：`admin123`

### 2. 编辑项目添加时间线

1. 在管理页面点击任意项目的"编辑"按钮
2. 滚动到表单底部的"项目时间线（可选）"部分
3. 填写以下字段：

**开始日期**：
```
2024-01-15
```

**开发周期**：
```
3 个月
```

**时间线事件（JSON 格式）**：
复制 `timeline-example.json` 文件的内容，或使用以下示例：

```json
[
  {
    "id": "1",
    "date": "2024-01-15",
    "title": "项目启动",
    "description": "完成需求分析和技术选型，确定使用 React + TypeScript + Vite 技术栈",
    "type": "milestone"
  },
  {
    "id": "2",
    "date": "2024-02-01",
    "title": "核心功能开发",
    "description": "实现项目展示、分类筛选、搜索功能",
    "type": "feature"
  },
  {
    "id": "3",
    "date": "2024-02-20",
    "title": "修复响应式布局问题",
    "description": "解决移动端显示异常，优化平板设备适配",
    "type": "bugfix"
  },
  {
    "id": "4",
    "date": "2024-03-05",
    "title": "添加管理功能",
    "description": "实现密码认证、项目增删改功能",
    "type": "feature"
  },
  {
    "id": "5",
    "date": "2024-03-20",
    "title": "详情页上线",
    "description": "发布项目详情页功能，支持 Markdown、截图画廊、技术栈展示",
    "type": "release"
  }
]
```

4. 点击"保存"按钮

### 3. 查看时间线效果

1. 点击"返回展示页面"按钮
2. 找到刚才编辑的项目
3. 点击项目卡片上的"详情"按钮
4. 在详情对话框中滚动到底部，查看"项目时间线"部分

### 4. 验证要点

**时间线显示应该包含**：
- ✅ 开始时间和开发周期信息（顶部）
- ✅ 垂直时间线（左侧有连接线）
- ✅ 事件按日期倒序排列（最新的在上面）
- ✅ 每个事件有对应的图标：
  - 里程碑（milestone）：绿色 ✓ 图标
  - 新功能（feature）：蓝色代码图标
  - 修复（bugfix）：红色 bug 图标
  - 发布（release）：紫色火箭图标
- ✅ 每个事件显示标题、日期、描述
- ✅ 事件类型标签（右上角）

**样式验证**：
- 时间线应该有清晰的视觉层次
- 图标节点应该有颜色区分
- 日期格式应该是中文格式（例如：2024年1月15日）
- 响应式布局在移动端也应该正常显示

### 5. 错误处理测试

**测试 JSON 格式错误**：
1. 编辑项目，在时间线 JSON 中输入无效的 JSON（例如缺少引号）
2. 点击保存
3. 应该看到错误提示："时间线数据格式错误，请检查 JSON 格式"

**测试空时间线**：
1. 编辑项目，清空时间线 JSON 字段
2. 保存后查看详情页
3. 时间线部分应该不显示（或显示"暂无时间线数据"）

## 事件类型说明

- **milestone**（里程碑）：项目重要节点，如启动、完成等
- **feature**（新功能）：新功能开发
- **bugfix**（修复）：bug 修复
- **release**（发布）：版本发布

## 常见问题

**Q: JSON 格式总是报错？**
A: 确保：
- 所有字符串使用双引号（不是单引号）
- 每个对象的最后一个属性后面没有逗号
- 数组的最后一个元素后面没有逗号
- 使用在线 JSON 验证工具检查格式

**Q: 时间线不显示？**
A: 检查：
- 是否保存成功
- 浏览器控制台是否有错误
- localStorage 中的项目数据是否包含 timeline 字段

**Q: 日期格式不对？**
A: 确保日期格式为 `YYYY-MM-DD`（例如：2024-01-15）

## 测试完成标准

- ✅ 能够成功添加时间线数据
- ✅ 时间线在详情页正确显示
- ✅ 所有事件类型的图标和颜色正确
- ✅ 日期排序正确（最新在上）
- ✅ JSON 格式错误能够正确提示
- ✅ 响应式布局正常工作
